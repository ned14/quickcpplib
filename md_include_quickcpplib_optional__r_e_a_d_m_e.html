<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QuickCppLib: Optional</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">QuickCppLib
   &#160;<span id="projectnumber">0.10</span>
   </div>
   <div id="projectbrief">Eliminate all the tedious hassle when making state-of-the-art C++ 14 - 23 libraries!</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_include_quickcpplib_optional__r_e_a_d_m_e.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Optional </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>A single-header header-only library for representing optional (nullable) objects for C++14 (and C++11 to some extent) and passing them by value. This is the reference implementation of proposal N3793 (see <a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2013/n3793.html">http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2013/n3793.html</a>). Optional is now accepted into Library Fundamentals Technical Specification (see <a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2014/n3848.html">http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2014/n3848.html</a>). The interface is based on Fernando Cacciola's Boost.Optional library (see <a href="http://www.boost.org/doc/libs/1_52_0/libs/optional/doc/html/index.html">http://www.boost.org/doc/libs/1_52_0/libs/optional/doc/html/index.html</a>)</p>
<h1><a class="anchor" id="autotoc_md8"></a>
Usage</h1>
<div class="fragment"><div class="line">optional&lt;int&gt; readInt(); <span class="comment">// this function may return int or a not-an-int</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (optional&lt;int&gt; oi = readInt()) <span class="comment">// did I get a real int</span></div>
<div class="line">  cout &lt;&lt; <span class="stringliteral">&quot;my int is: &quot;</span> &lt;&lt; *oi;   <span class="comment">// use my int</span></div>
<div class="line"><span class="keywordflow">else</span></div>
<div class="line">  cout &lt;&lt; <span class="stringliteral">&quot;I have no int&quot;</span>;</div>
</div><!-- fragment --><p>For more usage examples and the overview see <a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2013/n3527.html">http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2013/n3527.html</a></p>
<h1><a class="anchor" id="autotoc_md9"></a>
Supported compilers</h1>
<p>Clang 3.2, Clang 3.4, G++ 4.7.2, G++ 4.8.1. Tested only with libstdc++, versions 20130531, 20120920, 20110428. Others have reported it also works with libc++.</p>
<h1><a class="anchor" id="autotoc_md10"></a>
Known Issues</h1>
<ul>
<li>Currently, the reference (and the only known) implementation of certain pieces of functionality explore what C++11 identifies as undefined behavior (see national body comment FI 15: <a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2013/n3770.html#FI15">http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2013/n3770.html#FI15</a>). This is mostly why Optional was removed from C++14 and put into Library Fundamentals TS. Luckily what the Standard identifies as UB is well defined on all known platforms. We expect that the C++14 wil fix this problem, so that our trick becomes well-defined.</li>
<li>In libstdc++ versions below 20130531 the constructor taking <code>initializer_list</code> argument is not <code>constexpr</code>. This is because <code>initializer_list</code> operations are not <code>constexpr</code> in C++11. This works however in version 20130531. It is also not enabled for libc++ because I do not have access to it and do not know if it provides <code>constexpr</code> <code>initializer_list</code>.</li>
<li>In G++ 4.7.2 and 4.8.0 member function <code>value_or</code> does not have rvalue reference overload. These compilers do not support rvalue overloding on <code>*this</code>.</li>
<li>In order for the library to work with slightly older compilers, we emulate some missing type traits. On some platforms we cannot correctly detect the available features, and attempts at workarounds for missing type trait definitions can cause compile-time errors. Define macro <code>TR2_OPTIONAL_DISABLE_EMULATION_OF_TYPE_TRAITS</code> if you know that all the necessary type traits are defined, and no emulation is required.</li>
</ul>
<h1><a class="anchor" id="autotoc_md11"></a>
License</h1>
<p>Distributed under the <a href="http://www.boost.org/LICENSE_1_0.txt">Boost Software License, Version 1.0</a>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
